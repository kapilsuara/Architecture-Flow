<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Architecture Flow</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        .title {
            text-align: center;
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 30px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
        }
        
        .flow-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }
        
        .flow-step {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 800px;
            position: relative;
            transition: all 0.3s ease;
            border-left: 5px solid #667eea;
        }
        
        .flow-step:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }
        
        .step-header {
            font-size: 1.4em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .step-number {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9em;
            font-weight: bold;
        }
        
        .step-content {
            color: #555;
            line-height: 1.6;
        }
        
        .step-details {
            margin-top: 10px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 3px solid #667eea;
        }
        
        .arrow {
            font-size: 2em;
            color: #667eea;
            margin: 10px 0;
            text-align: center;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        .highlight {
            background: linear-gradient(120deg, #a8edea 0%, #fed6e3 100%);
            padding: 2px 8px;
            border-radius: 5px;
            font-weight: bold;
        }
        
        .tech-stack {
            background: #e8f4f8;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            color: #2980b9;
            display: inline-block;
            margin: 2px;
            font-weight: 500;
        }
        
        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }
        
        .metric-item {
            background: white;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid #e74c3c;
            color: #e74c3c;
            font-weight: bold;
        }
        
        .feedback-loop {
            background: linear-gradient(45deg, #ff9a9e, #fecfef);
            border-left-color: #e74c3c;
        }
        
        .output-section {
            background: linear-gradient(45deg, #a8edea, #fed6e3);
            border-left-color: #27ae60;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">üîç Enhanced Search Architecture Flow</h1>
        
        <div class="flow-container">
            <!-- Step 1: User Query -->
            <div class="flow-step">
                <div class="step-header">
                    <div class="step-number">1</div>
                    üìù User Query Input
                </div>
                <div class="step-content">
                    <strong>Input:</strong> User searches for <span class="highlight">"milk"</span>
                    <div class="step-details">
                        <strong>Raw Query Processing:</strong>
                        <br>‚Ä¢ Query sanitization & validation
                        <br>‚Ä¢ Auto-correct typos: "mlk" ‚Üí "milk"
                        <br>‚Ä¢ Voice-to-text conversion (if applicable)
                        <br><span class="tech-stack">NLP Pipeline</span> <span class="tech-stack">Fuzzy Matching</span>
                    </div>
                </div>
            </div>
            
            <div class="arrow">‚¨áÔ∏è</div>
            
            <!-- Step 2: Semantic Parser -->
            <div class="flow-step">
                <div class="step-header">
                    <div class="step-number">2</div>
                    üß† Semantic Understanding Layer
                </div>
                <div class="step-content">
                    <strong>Language & Intent Processing:</strong>
                    <div class="step-details">
                        <strong>Multi-language Support:</strong> "‡§¶‡•Ç‡§ß/Doodh" ‚Üí "milk"
                        <br><strong>Synonym Expansion:</strong> milk ‚Üí [dairy, beverage, liquid]
                        <br><strong>Intent Detection:</strong> breakfast intent, cooking intent
                        <br><strong>Context Awareness:</strong> Time-based (morning = fresh milk)
                        <br><span class="tech-stack">Word2Vec</span> <span class="tech-stack">BERT</span> <span class="tech-stack">Translation API</span>
                    </div>
                </div>
            </div>
            
            <div class="arrow">‚¨áÔ∏è</div>
            
            <!-- Step 3: Keyword-Entity Mapping -->
            <div class="flow-step">
                <div class="step-header">
                    <div class="step-number">3</div>
                    üó∫Ô∏è Dynamic Keyword-Entity Mapping
                </div>
                <div class="step-content">
                    <strong>ML-Powered Entity Discovery:</strong>
                    <div class="step-details">
                        <strong>Auto-learned Mappings:</strong>
                        <br>‚Ä¢ "milk" ‚Üí Products: [Milk, Curd, Paneer, Lassi, Cheese]
                        <br>‚Ä¢ "milk" ‚Üí Brands: [Amul, Sudha, Mother Dairy, Nandini]
                        <br>‚Ä¢ "milk" ‚Üí Categories: [Dairy, Beverages, Breakfast Items]
                        <br><strong>Confidence Scoring:</strong> Each mapping gets a relevance score (0-1)
                        <br><span class="tech-stack">Collaborative Filtering</span> <span class="tech-stack">Association Rules</span> <span class="tech-stack">Graph Neural Networks</span>
                    </div>
                </div>
            </div>
            
            <div class="arrow">‚¨áÔ∏è</div>
            
            <!-- Step 4: Multi-Signal Boost Engine -->
            <div class="flow-step">
                <div class="step-header">
                    <div class="step-number">4</div>
                    ‚ö° Multi-Signal Boost Engine
                </div>
                <div class="step-content">
                    <strong>Intelligent Ranking Signals:</strong>
                    <div class="metrics">
                        <div class="metric-item">üëÜ Click Rate<br>0.8x</div>
                        <div class="metric-item">üõí Cart Rate<br>1.2x</div>
                        <div class="metric-item">üí∞ Revenue<br>1.5x</div>
                        <div class="metric-item">üì¶ Stock Level<br>0.9x</div>
                        <div class="metric-item">‚è∞ Freshness<br>1.1x</div>
                        <div class="metric-item">üéØ Personal Pref<br>1.3x</div>
                    </div>
                    <div class="step-details">
                        <strong>Dynamic Boost Calculation:</strong>
                        <br>‚Ä¢ <span class="highlight">Behavioral Signals:</span> CTR, conversion, dwell time
                        <br>‚Ä¢ <span class="highlight">Business Signals:</span> Profit margin, inventory turnover
                        <br>‚Ä¢ <span class="highlight">Contextual Signals:</span> Time, weather, location, season
                        <br>‚Ä¢ <span class="highlight">Personal Signals:</span> Purchase history, dietary preferences
                        <br><span class="tech-stack">Real-time ML</span> <span class="tech-stack">Feature Store</span> <span class="tech-stack">A/B Testing</span>
                    </div>
                </div>
            </div>
            
            <div class="arrow">‚¨áÔ∏è</div>
            
            <!-- Step 5: Elasticsearch Search -->
            <div class="flow-step">
                <div class="step-header">
                    <div class="step-number">5</div>
                    üîç Elasticsearch Search & Ranking
                </div>
                <div class="step-content">
                    <strong>Advanced Query Execution:</strong>
                    <div class="step-details">
                        <strong>Query Structure:</strong>
                        <br>‚Ä¢ <span class="highlight">Multi-match:</span> product_name, brand, category, description
                        <br>‚Ä¢ <span class="highlight">Function Score:</span> Apply boost multipliers
                        <br>‚Ä¢ <span class="highlight">Script Score:</span> Custom business logic
                        <br>‚Ä¢ <span class="highlight">Decay Functions:</span> Time-based relevance decay
                        <br><strong>Final Score = Text Relevance √ó Boost Multiplier √ó Business Logic</strong>
                        <br><span class="tech-stack">Elasticsearch 8.x</span> <span class="tech-stack">Learning to Rank</span> <span class="tech-stack">Custom Scoring</span>
                    </div>
                </div>
            </div>
            
            <div class="arrow">‚¨áÔ∏è</div>
            
            <!-- Step 6: Real-time Feedback -->
            <div class="flow-step feedback-loop">
                <div class="step-header">
                    <div class="step-number">6</div>
                    üîÑ Real-time Feedback Loop
                </div>
                <div class="step-content">
                    <strong>Continuous Learning System:</strong>
                    <div class="step-details">
                        <strong>User Interaction Tracking:</strong>
                        <br>‚Ä¢ Click position and dwell time
                        <br>‚Ä¢ Add-to-cart vs. bounce patterns
                        <br>‚Ä¢ Search refinement behavior
                        <br>‚Ä¢ Purchase completion tracking
                        <br><strong>Model Updates:</strong> Every 15 minutes for hot keywords
                        <br><span class="tech-stack">Kafka Streams</span> <span class="tech-stack">Online Learning</span> <span class="tech-stack">Event Sourcing</span>
                    </div>
                </div>
            </div>
            
            <div class="arrow">‚¨áÔ∏è</div>
            
            <!-- Step 7: Results & Recommendations -->
            <div class="flow-step output-section">
                <div class="step-header">
                    <div class="step-number">7</div>
                    üéØ Intelligent Results & Recommendations
                </div>
                <div class="step-content">
                    <strong>Final Output Delivery:</strong>
                    <div class="step-details">
                        <strong>Search Results:</strong>
                        <br>1. ü•õ Amul Taza Milk (1L) - High relevance + popularity
                        <br>2. üßÄ Amul Fresh Paneer - Related product boost
                        <br>3. ü•õ Sudha Milk (500ml) - Brand + behavioral boost
                        <br><strong>Smart Recommendations:</strong>
                        <br>‚Ä¢ "Customers who bought milk also added: Bread, Eggs, Cereal"
                        <br>‚Ä¢ "Trending now: Organic milk options"
                        <br><span class="tech-stack">Personalization Engine</span> <span class="tech-stack">Collaborative Filtering</span> <span class="tech-stack">Real-time Serving</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div style="margin-top: 40px; padding: 20px; background: linear-gradient(45deg, #667eea, #764ba2); border-radius: 15px; color: white; text-align: center;">
            <h3>üöÄ Expected Impact</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 20px;">
                <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px;">
                    <strong>+25%</strong><br>Search Conversion Rate
                </div>
                <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px;">
                    <strong>+40%</strong><br>Search Relevance Score
                </div>
                <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px;">
                    <strong>-30%</strong><br>Search Abandonment
                </div>
                <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px;">
                    <strong>+60%</strong><br>Cross-sell Success
                </div>
            </div>
        </div>
    </div>
</body>
</html>